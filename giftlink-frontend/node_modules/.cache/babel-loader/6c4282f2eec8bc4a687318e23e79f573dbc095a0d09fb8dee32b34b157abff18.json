{"ast":null,"code":"import React,{useState,useEffect}from'react';import{useNavigate}from'react-router-dom';import{urlConfig}from'../../config';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";function MainPage(){const[gifts,setGifts]=useState([]);const navigate=useNavigate();useEffect(()=>{// Task 1: Write async fetch operation\n// Write your code below this line\n// fetch all gifts\nconst fetchGifts=async()=>{try{let url=`${urlConfig.backendUrl}/api/gifts`;const response=await fetch(url);if(!response.ok){//something went wrong\nthrow new Error(`HTTP error; ${response.status}`);}const data=await response.json();setGifts(data);}catch(error){console.log('Fetch error: '+error.message);}};fetchGifts();},[]);// Task 2: Navigate to details page\nconst goToDetailsPage=productId=>{// Write your code below this line\nnavigate(`/app/product/${productId}`);};// Task 3: Format timestamp\nconst formatDate=timestamp=>{// Write your code below this line\nconst date=new Date(timestamp*1000);return date.toLocaleDateString('default',{month:'long',day:'numeric',year:'numeric'});};const getConditionClass=condition=>{return condition===\"New\"?\"list-group-item-success\":\"list-group-item-warning\";};return/*#__PURE__*/_jsx(\"div\",{className:\"container mt-5\",children:/*#__PURE__*/_jsx(\"div\",{className:\"row\",children:gifts.map(gift=>/*#__PURE__*/_jsx(\"div\",{className:\"col-md-4 mb-4\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"card product-card\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"image-placeholder\",children:gift.image?/*#__PURE__*/_jsx(\"img\",{src:gift.image,alt:gift.name,className:\"card-img-top\"}):/*#__PURE__*/_jsx(\"div\",{className:\"no-image-available\",children:\"No Image Available\"})}),/*#__PURE__*/_jsxs(\"div\",{className:\"card-body\",children:[/*#__PURE__*/_jsx(\"h5\",{className:\"card-title\",children:gift.name}),/*#__PURE__*/_jsx(\"p\",{className:`card-text ${getConditionClass(gift.condition)}`,children:gift.condition}),/*#__PURE__*/_jsx(\"p\",{className:\"card-text\",children:formatDate(gift.date_added)}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>goToDetailsPage(gift.id),className:\"btn btn-primary\",children:\"View Details\"})]})]})},gift.id))})});}export default MainPage;","map":{"version":3,"names":["React","useState","useEffect","useNavigate","urlConfig","jsx","_jsx","jsxs","_jsxs","MainPage","gifts","setGifts","navigate","fetchGifts","url","backendUrl","response","fetch","ok","Error","status","data","json","error","console","log","message","goToDetailsPage","productId","formatDate","timestamp","date","Date","toLocaleDateString","month","day","year","getConditionClass","condition","className","children","map","gift","image","src","alt","name","date_added","onClick","id"],"sources":["/home/project/fullstack-capstone/giftlink-frontend/src/components/MainPage/MainPage.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport { useNavigate } from 'react-router-dom';\nimport { urlConfig } from '../../config';\n\nfunction MainPage() {\n    const [gifts, setGifts] = useState([]);\n    const navigate = useNavigate();\n\n    useEffect(() => {\n        // Task 1: Write async fetch operation\n        // Write your code below this line\n        // fetch all gifts\n        const fetchGifts = async () => {\n            try {\n                let url = `${urlConfig.backendUrl}/api/gifts`\n                const response = await fetch(url);\n                if (!response.ok) {\n                    //something went wrong\n                    throw new Error(`HTTP error; ${response.status}`)\n                }\n                const data = await response.json();\n                setGifts(data);\n            } catch (error) {\n                console.log('Fetch error: ' + error.message);\n            }\n        };\n\n        fetchGifts();\n    }, []);\n\n    // Task 2: Navigate to details page\n    const goToDetailsPage = (productId) => {\n        // Write your code below this line\n        navigate(`/app/product/${productId}`);\n    };\n\n    // Task 3: Format timestamp\n    const formatDate = (timestamp) => {\n        // Write your code below this line\n        const date = new Date(timestamp * 1000);\n        return date.toLocaleDateString('default', { month: 'long', day: 'numeric', year: 'numeric' });\n    };\n\n    const getConditionClass = (condition) => {\n        return condition === \"New\" ? \"list-group-item-success\" : \"list-group-item-warning\";\n    };\n\n    return (\n        <div className=\"container mt-5\">\n            <div className=\"row\">\n                {gifts.map((gift) => (\n                    <div key={gift.id} className=\"col-md-4 mb-4\">\n                        <div className=\"card product-card\">\n\n                            {/* // Task 4: Display gift image or placeholder */}\n                            {/* // Write your code below this line */}\n                            <div className=\"image-placeholder\">\n                                {gift.image ? (\n                                    <img src={gift.image} alt={gift.name} className=\"card-img-top\" />\n                                ) : (\n                                    <div className=\"no-image-available\">No Image Available</div>\n                                )}\n                            </div>\n\n                            <div className=\"card-body\">\n\n                                {/* // Task 5: Display gift image or placeholder */}\n                                {/* // Write your code below this line */}\n                                <h5 className=\"card-title\">{gift.name}</h5>\n                                <p className={`card-text ${getConditionClass(gift.condition)}`}>\n                                    {gift.condition}\n                                </p>\n\n                                {/* // Task 6: Display gift image or placeholder */}\n                                {/* // Write your code below this line */}\n                                <p className=\"card-text\">{formatDate(gift.date_added)}</p>\n\n                                <button onClick={() => goToDetailsPage(gift.id)} className=\"btn btn-primary\">\n                                    View Details\n                                </button>\n                            </div>\n                        </div>\n                    </div>\n                ))}\n            </div>\n        </div>\n    );\n}\n\nexport default MainPage;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}