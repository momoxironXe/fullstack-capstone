{"ast":null,"code":"import React,{useState}from'react';//Step 1 - Task 1\nimport{urlConfig}from'../../config';//Step 1 - Task 2\nimport{useAppContext}from'../../context/AuthContext';//Step 1 - Task 3\nimport{useNavigate}from'react-router-dom';import'./RegisterPage.css';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";function RegisterPage(){const[firstName,setFirstName]=useState('');const[lastName,setLastName]=useState('');const[email,setEmail]=useState('');const[password,setPassword]=useState('');//Step 1 - Task 4\nconst[showerr,setShowerr]=useState('');//Step 1 - Task 5\nconst navigate=useNavigate();const{setIsLoggedIn}=useAppContext();const handleRegister=async()=>{const response=await fetch(`${urlConfig.backendUrl}/api/auth/register`,{//Step 1 - Task 6\nmethod:'POST',//Step 1 - Task 7\nheaders:{'content-type':'application/json'},//Step 1 - Task 8\nbody:JSON.stringify({firstName:firstName,lastName:lastName,email:email,password:password})});//Step 2 - Task 1\nconst json=await response.json();console.log('json data',json);console.log('er',json.error);//Step 2 - Task 2\nif(json.authtoken){sessionStorage.setItem('auth-token',json.authtoken);sessionStorage.setItem('name',firstName);sessionStorage.setItem('email',json.email);//Step 2 - Task 3\nsetIsLoggedIn(true);//Step 2 - Task 4\nnavigate('/app');}if(json.error){//Step 2 - Task 5\nsetShowerr(json.error);}};return/*#__PURE__*/_jsx(\"div\",{className:\"container mt-5\",children:/*#__PURE__*/_jsx(\"div\",{className:\"row justify-content-center\",children:/*#__PURE__*/_jsx(\"div\",{className:\"col-md-6 col-lg-4\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"register-card p-4 border rounded\",children:[/*#__PURE__*/_jsx(\"h2\",{className:\"text-center mb-4 font-weight-bold\",children:\"Register\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"mb-3\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"firstName\",className:\"form-label\",children:\"FirstName\"}),/*#__PURE__*/_jsx(\"input\",{id:\"firstName\",type:\"text\",className:\"form-control\",placeholder:\"Enter your firstName\",value:firstName,onChange:e=>setFirstName(e.target.value)})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"mb-3\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"lastName\",className:\"form-label\",children:\"LastName\"}),/*#__PURE__*/_jsx(\"input\",{id:\"lastName\",type:\"text\",className:\"form-control\",placeholder:\"Enter your lastName\",value:lastName,onChange:e=>setLastName(e.target.value)})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"mb-3\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"email\",className:\"form-label\",children:\"Email\"}),/*#__PURE__*/_jsx(\"input\",{id:\"email\",type:\"text\",className:\"form-control\",placeholder:\"Enter your email\",value:email,onChange:e=>setEmail(e.target.value)}),/*#__PURE__*/_jsx(\"div\",{className:\"text-danger\",children:showerr})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"mb-4\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"password\",className:\"form-label\",children:\"Password\"}),/*#__PURE__*/_jsx(\"input\",{id:\"password\",type:\"password\",className:\"form-control\",placeholder:\"Enter your password\",value:password,onChange:e=>setPassword(e.target.value)})]}),/*#__PURE__*/_jsx(\"button\",{className:\"btn btn-primary w-100 mb-3\",onClick:handleRegister,children:\"Register\"}),/*#__PURE__*/_jsxs(\"p\",{className:\"mt-4 text-center\",children:[\"Already a member? \",/*#__PURE__*/_jsx(\"a\",{href:\"/app/login\",className:\"text-primary\",children:\"Login\"})]})]})})})});}export default RegisterPage;","map":{"version":3,"names":["React","useState","urlConfig","useAppContext","useNavigate","jsx","_jsx","jsxs","_jsxs","RegisterPage","firstName","setFirstName","lastName","setLastName","email","setEmail","password","setPassword","showerr","setShowerr","navigate","setIsLoggedIn","handleRegister","response","fetch","backendUrl","method","headers","body","JSON","stringify","json","console","log","error","authtoken","sessionStorage","setItem","className","children","htmlFor","id","type","placeholder","value","onChange","e","target","onClick","href"],"sources":["/home/project/fullstack-capstone/giftlink-frontend/src/components/RegisterPage/RegisterPage.js"],"sourcesContent":["    import React, { useState } from 'react';\n    //Step 1 - Task 1\n    import {urlConfig} from '../../config';\n\n    //Step 1 - Task 2\n    import { useAppContext } from '../../context/AuthContext';\n\n    //Step 1 - Task 3\n    import { useNavigate } from 'react-router-dom';\n\n    import './RegisterPage.css';\n\n    function RegisterPage() {\n        const [firstName, setFirstName] = useState('');\n        const [lastName, setLastName] = useState('');\n        const [email, setEmail] = useState('');\n        const [password, setPassword] = useState('');\n\n        //Step 1 - Task 4\n         const [showerr, setShowerr] = useState('');\n\n        //Step 1 - Task 5\n        const navigate = useNavigate();\n        const { setIsLoggedIn } = useAppContext();\n\n        const handleRegister = async () => {\n            const response = await fetch(`${urlConfig.backendUrl}/api/auth/register`, {\n                //Step 1 - Task 6\n                method: 'POST',\n                //Step 1 - Task 7\n                headers: {\n                    'content-type': 'application/json',\n                },\n                //Step 1 - Task 8\n                body: JSON.stringify({\n                    firstName: firstName,\n                    lastName: lastName,\n                    email: email,\n                    password: password\n                })\n            });\n\n            //Step 2 - Task 1\n            const json = await response.json();\n            console.log('json data', json);\n            console.log('er', json.error);\n\n            //Step 2 - Task 2\n            if (json.authtoken) {\n                sessionStorage.setItem('auth-token', json.authtoken);\n                sessionStorage.setItem('name', firstName);\n                sessionStorage.setItem('email', json.email);\n            //Step 2 - Task 3\n                setIsLoggedIn(true);\n            //Step 2 - Task 4\n                navigate('/app');\n            }\n            if (json.error) {\n            //Step 2 - Task 5\n                setShowerr(json.error);\n            }\n        }\n\n        return (\n            <div className=\"container mt-5\">\n                <div className=\"row justify-content-center\">\n                    <div className=\"col-md-6 col-lg-4\">\n                        <div className=\"register-card p-4 border rounded\">\n                            <h2 className=\"text-center mb-4 font-weight-bold\">Register</h2>\n                            <div className=\"mb-3\">\n                                <label htmlFor=\"firstName\" className=\"form-label\">FirstName</label>\n                                <input\n                                    id=\"firstName\"\n                                    type=\"text\"\n                                    className=\"form-control\"\n                                    placeholder=\"Enter your firstName\"\n                                    value={firstName}\n                                    onChange={(e) => setFirstName(e.target.value)}\n                                />\n                            </div>\n\n                            {/* last name */}\n\n                            <div className=\"mb-3\">\n                                <label htmlFor=\"lastName\" className=\"form-label\">LastName</label>\n                                <input\n                                    id=\"lastName\"\n                                    type=\"text\"\n                                    className=\"form-control\"\n                                    placeholder=\"Enter your lastName\"\n                                    value={lastName}\n                                    onChange={(e) => setLastName(e.target.value)}\n                                />\n                            </div>\n\n                            {/* email  */}\n                            <div className=\"mb-3\">\n                                <label htmlFor=\"email\" className=\"form-label\">Email</label>\n                                <input\n                                    id=\"email\"\n                                    type=\"text\"\n                                    className=\"form-control\"\n                                    placeholder=\"Enter your email\"\n                                    value={email}\n                                    onChange={(e) => setEmail(e.target.value)}\n                                />\n                            {/* Step 2 - Task 6*/}\n\n                                    <div className=\"text-danger\">{showerr}</div>\n                            </div>\n\n                            <div className=\"mb-4\">\n                                <label htmlFor=\"password\" className=\"form-label\">Password</label>\n                                <input\n                                    id=\"password\"\n                                    type=\"password\"\n                                    className=\"form-control\"\n                                    placeholder=\"Enter your password\"\n                                    value={password}\n                                    onChange={(e) => setPassword(e.target.value)}\n                                />\n                            </div>\n                            <button className=\"btn btn-primary w-100 mb-3\" onClick={handleRegister}>Register</button>\n                            <p className=\"mt-4 text-center\">\n                                Already a member? <a href=\"/app/login\" className=\"text-primary\">Login</a>\n                            </p>\n                        </div>\n                    </div>\n                </div>\n            </div>\n        );\n    }\n\n    export default RegisterPage;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}