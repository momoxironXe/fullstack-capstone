{"ast":null,"code":"import React,{useEffect}from'react';import{Link,useNavigate}from'react-router-dom';import{useAppContext}from'../../context/AuthContext';import{jsx as _jsx,jsxs as _jsxs,Fragment as _Fragment}from\"react/jsx-runtime\";export default function Navbar(){const{isLoggedIn,setIsLoggedIn,userName,setUserName}=useAppContext();const navigate=useNavigate();useEffect(()=>{const authTokenFromSession=sessionStorage.getItem('auth-token');const nameFromSession=sessionStorage.getItem('name');if(authTokenFromSession){if(isLoggedIn&&nameFromSession){setUserName(nameFromSession);}else{sessionStorage.removeItem('auth-token');sessionStorage.removeItem('name');sessionStorage.removeItem('email');setIsLoggedIn(false);}}},[isLoggedIn,setIsLoggedIn,setUserName]);const handleLogout=()=>{sessionStorage.removeItem('auth-token');sessionStorage.removeItem('name');sessionStorage.removeItem('email');setIsLoggedIn(false);navigate(`/app`);};const profileSecton=()=>{navigate(`/app/profile`);};return/*#__PURE__*/_jsx(_Fragment,{children:/*#__PURE__*/_jsxs(\"nav\",{className:\"navbar navbar-expand-lg navbar-light bg-light\",id:\"navbar_container\",children:[/*#__PURE__*/_jsx(\"a\",{className:\"navbar-brand\",href:\"/\",children:\"GiftLink\"}),/*#__PURE__*/_jsx(\"button\",{className:\"navbar-toggler\",type:\"button\",\"data-toggle\":\"collapse\",\"data-target\":\"#navbarNav\",\"aria-controls\":\"navbarNav\",\"aria-expanded\":\"false\",\"aria-label\":\"Toggle navigation\",children:/*#__PURE__*/_jsx(\"span\",{className:\"navbar-toggler-icon\"})}),/*#__PURE__*/_jsx(\"div\",{className:\"collapse navbar-collapse justify-content-end\",id:\"navbarNav\",children:/*#__PURE__*/_jsxs(\"ul\",{className:\"navbar-nav\",children:[/*#__PURE__*/_jsxs(\"li\",{className:\"nav-item\",children:[/*#__PURE__*/_jsx(\"a\",{className:\"nav-link\",href:\"/home.html\",children:\"Home\"}),\" \"]}),/*#__PURE__*/_jsxs(\"li\",{className:\"nav-item\",children:[/*#__PURE__*/_jsx(Link,{className:\"nav-link\",to:\"/app\",children:\"Gifts\"}),\" \"]}),/*#__PURE__*/_jsx(\"li\",{className:\"nav-item\",children:/*#__PURE__*/_jsx(Link,{className:\"nav-link\",to:\"/app/search\",children:\"Search\"})}),/*#__PURE__*/_jsx(\"ul\",{className:\"navbar-nav ml-auto\",children:isLoggedIn?/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsxs(\"li\",{className:\"nav-item\",children:[\" \",/*#__PURE__*/_jsxs(\"span\",{className:\"nav-link\",style:{color:\"black\",cursor:\"pointer\"},onClick:profileSecton,children:[\"Welcome, \",userName]}),\" \"]}),/*#__PURE__*/_jsx(\"li\",{className:\"nav-item\",children:/*#__PURE__*/_jsx(\"button\",{className:\"nav-link login-btn\",onClick:handleLogout,children:\"Logout\"})})]}):/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"li\",{className:\"nav-item\",children:/*#__PURE__*/_jsx(Link,{className:\"nav-link login-btn\",to:\"/app/login\",children:\"Login\"})}),/*#__PURE__*/_jsx(\"li\",{className:\"nav-item\",children:/*#__PURE__*/_jsx(Link,{className:\"nav-link register-btn\",to:\"/app/register\",children:\"Register\"})})]})})]})})]})});}","map":{"version":3,"names":["React","useEffect","Link","useNavigate","useAppContext","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","Navbar","isLoggedIn","setIsLoggedIn","userName","setUserName","navigate","authTokenFromSession","sessionStorage","getItem","nameFromSession","removeItem","handleLogout","profileSecton","children","className","id","href","type","to","style","color","cursor","onClick"],"sources":["/home/project/fullstack-capstone/giftlink-frontend/src/components/Navbar/Navbar.js"],"sourcesContent":["import React, { useEffect } from 'react'\nimport { Link, useNavigate } from 'react-router-dom'\nimport { useAppContext } from '../../context/AuthContext';\n\nexport default function Navbar() {\n    const { isLoggedIn, setIsLoggedIn, userName, setUserName } = useAppContext();\n\n    const navigate = useNavigate();\n    useEffect(() => {\n        const authTokenFromSession = sessionStorage.getItem('auth-token');\n        const nameFromSession = sessionStorage.getItem('name');\n        if (authTokenFromSession) {\n            if (isLoggedIn && nameFromSession) {\n                setUserName(nameFromSession);\n            } else {\n                sessionStorage.removeItem('auth-token');\n                sessionStorage.removeItem('name');\n                sessionStorage.removeItem('email');\n                setIsLoggedIn(false);\n            }\n        }\n    }, [isLoggedIn, setIsLoggedIn, setUserName])\n    const handleLogout = () => {\n        sessionStorage.removeItem('auth-token');\n        sessionStorage.removeItem('name');\n        sessionStorage.removeItem('email');\n        setIsLoggedIn(false);\n        navigate(`/app`);\n\n    }\n    const profileSecton = () => {\n        navigate(`/app/profile`);\n    }\n    return (\n        <>\n            <nav className=\"navbar navbar-expand-lg navbar-light bg-light\" id='navbar_container'>\n                <a className=\"navbar-brand\" href='/'>GiftLink</a>\n\n                <button className=\"navbar-toggler\" type=\"button\" data-toggle=\"collapse\" data-target=\"#navbarNav\" aria-controls=\"navbarNav\" aria-expanded=\"false\" aria-label=\"Toggle navigation\">\n                    <span className=\"navbar-toggler-icon\"></span>\n                </button>\n\n                <div className=\"collapse navbar-collapse justify-content-end\" id=\"navbarNav\">\n                    <ul className=\"navbar-nav\">\n                        <li className=\"nav-item\">\n                            <a className=\"nav-link\" href=\"/home.html\">Home</a> {/* Link to home.html */}\n                        </li>\n                        <li className=\"nav-item\">\n                            <Link className=\"nav-link\" to=\"/app\">Gifts</Link> {/* Updated Link */}\n                        </li>\n                        <li className=\"nav-item\">\n                            <Link className=\"nav-link\" to=\"/app/search\">Search</Link>\n                        </li>\n                        <ul className=\"navbar-nav ml-auto\">\n                            {isLoggedIn ? (\n                                <>\n                                    <li className=\"nav-item\"> <span className=\"nav-link\" style={{ color: \"black\", cursor: \"pointer\" }} onClick={profileSecton}>Welcome, {userName}</span> </li>\n                                    <li className=\"nav-item\"><button className=\"nav-link login-btn\" onClick={handleLogout}>Logout</button></li>\n                                </>\n                            ) : (\n                                <>\n                                    <li className=\"nav-item\">\n\n                                        <Link className=\"nav-link login-btn\" to=\"/app/login\">Login</Link>\n                                    </li>\n                                    <li className=\"nav-item\">\n                                        <Link className=\"nav-link register-btn\" to=\"/app/register\">Register</Link>\n                                    </li>\n                                </>\n                            )\n\n                            }\n                        </ul>\n                    </ul>\n                </div>\n            </nav>\n        </>\n    )\n}"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}