{"ast":null,"code":"import React,{useEffect,useState}from'react';import{useParams,useNavigate}from'react-router-dom';import'./DetailsPage.css';import{urlConfig}from'../../config';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";function DetailsPage(){const navigate=useNavigate();const{productId}=useParams();const[gift,setGift]=useState(null);const[loading,setLoading]=useState(true);const[error,setError]=useState(null);useEffect(()=>{const authenticationToken=sessionStorage.getItem('auth-token');if(!authenticationToken){// Task 1: Check for authentication and redirect\nnavigate('/app/login');}// get the gift to be rendered on the details page\nconst fetchGift=async()=>{try{// Task 2: Fetch gift details\nconst response=await fetch(`${urlConfig.backendUrl}/api/gifts/${productId}`);if(!response.ok){throw new Error('Network response was not ok');}const data=await response.json();setGift(data);}catch(error){setError(error.message);}finally{setLoading(false);}};fetchGift();// Task 3: Scroll to top on component mount\n// { { insert code here } }\nwindow.scrollTo(0,0);},[productId,navigate]);const handleBackClick=()=>{// Task 4: Handle back click\n// { { insert code here } }\nnavigate(-1);};//The comments have been hardcoded for this project.\nconst comments=[{author:\"John Doe\",comment:\"I would like this!\"},{author:\"Jane Smith\",comment:\"Just DMed you.\"},{author:\"Alice Johnson\",comment:\"I will take it if it's still available.\"},{author:\"Mike Brown\",comment:\"This is a good one!\"},{author:\"Sarah Wilson\",comment:\"My family can use one. DM me if it is still available. Thank you!\"}];if(loading)return/*#__PURE__*/_jsx(\"div\",{children:\"Loading...\"});if(error)return/*#__PURE__*/_jsxs(\"div\",{children:[\"Error: \",error]});if(!gift)return/*#__PURE__*/_jsx(\"div\",{children:\"Gift not found\"});return/*#__PURE__*/_jsxs(\"div\",{className:\"container mt-5\",children:[/*#__PURE__*/_jsx(\"button\",{className:\"btn btn-secondary mb-3\",onClick:handleBackClick,children:\"Back\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"card product-details-card\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"card-header text-white\",children:/*#__PURE__*/_jsx(\"h2\",{className:\"details-title\",children:gift.name})}),/*#__PURE__*/_jsxs(\"div\",{className:\"card-body\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"image-placeholder-large\",children:gift.image?/*#__PURE__*/_jsx(\"img\",{src:gift.image,alt:gift.name,className:\"product-image-large\"}):/*#__PURE__*/_jsx(\"div\",{className:\"no-image-available-large\",children:\"No Image Available\"})}),/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Category:\"}),gift.category]}),/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Condition:\"}),gift.condition]}),/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Date Added:\"}),gift.dateAdded]}),/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Age (Years):\"}),gift.age]}),/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Description:\"}),gift.description]})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"comments-section mt-4\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"mb-3\",children:\"Comments\"}),comments.map((comment,index)=>/*#__PURE__*/_jsx(\"div\",{className:\"card mb-3\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"card-body\",children:[/*#__PURE__*/_jsx(\"p\",{className:\"comment-author\",children:/*#__PURE__*/_jsxs(\"strong\",{children:[comment.author,\":\"]})}),/*#__PURE__*/_jsx(\"p\",{className:\"comment-text\",children:comment.comment})]})},index))]})]});}export default DetailsPage;","map":{"version":3,"names":["React","useEffect","useState","useParams","useNavigate","urlConfig","jsx","_jsx","jsxs","_jsxs","DetailsPage","navigate","productId","gift","setGift","loading","setLoading","error","setError","authenticationToken","sessionStorage","getItem","fetchGift","response","fetch","backendUrl","ok","Error","data","json","message","window","scrollTo","handleBackClick","comments","author","comment","children","className","onClick","name","image","src","alt","category","condition","dateAdded","age","description","map","index"],"sources":["/home/project/fullstack-capstone/giftlink-frontend/src/components/DetailsPage/DetailsPage.js"],"sourcesContent":["import React, { useEffect, useState } from 'react';\nimport { useParams, useNavigate } from 'react-router-dom';\nimport './DetailsPage.css';\nimport { urlConfig } from '../../config';\n\nfunction DetailsPage() {\n    const navigate = useNavigate();\n    const { productId } = useParams();\n    const [gift, setGift] = useState(null);\n    const [loading, setLoading] = useState(true);\n    const [error, setError] = useState(null);\n\n    useEffect(() => {\n        const authenticationToken = sessionStorage.getItem('auth-token');\n        if (!authenticationToken) {\n            // Task 1: Check for authentication and redirect\n            navigate('/app/login');\n        }\n\n        // get the gift to be rendered on the details page\n        const fetchGift = async () => {\n            try {\n                // Task 2: Fetch gift details\n                const response = await fetch(`${urlConfig.backendUrl}/api/gifts/${productId}`);\n                if (!response.ok) {\n                    throw new Error('Network response was not ok');\n                }\n                const data = await response.json();\n                setGift(data);\n            } catch (error) {\n                setError(error.message);\n            } finally {\n                setLoading(false);\n            }\n        };\n\n        fetchGift();\n\n        // Task 3: Scroll to top on component mount\n        // { { insert code here } }\n        window.scrollTo(0, 0);\n    }, [productId , navigate]);\n\n\n    const handleBackClick = () => {\n        // Task 4: Handle back click\n        // { { insert code here } }\n        navigate(-1);\n    };\n\n    //The comments have been hardcoded for this project.\n    const comments = [\n        {\n            author: \"John Doe\",\n            comment: \"I would like this!\"\n        },\n        {\n            author: \"Jane Smith\",\n            comment: \"Just DMed you.\"\n        },\n        {\n            author: \"Alice Johnson\",\n            comment: \"I will take it if it's still available.\"\n        },\n        {\n            author: \"Mike Brown\",\n            comment: \"This is a good one!\"\n        },\n        {\n            author: \"Sarah Wilson\",\n            comment: \"My family can use one. DM me if it is still available. Thank you!\"\n        }\n    ];\n\n\n    if (loading) return <div>Loading...</div>;\n    if (error) return <div>Error: {error}</div>;\n    if (!gift) return <div>Gift not found</div>;\n\n    return (\n        <div className=\"container mt-5\">\n            <button className=\"btn btn-secondary mb-3\" onClick={handleBackClick}>Back</button>\n            <div className=\"card product-details-card\">\n                <div className=\"card-header text-white\">\n                    <h2 className=\"details-title\">{gift.name}</h2>\n                </div>\n                <div className=\"card-body\">\n                    <div className=\"image-placeholder-large\">\n                        {gift.image ? (\n                            <img src={gift.image} alt={gift.name} className=\"product-image-large\" />\n                        ) : (\n                            <div className=\"no-image-available-large\">No Image Available</div>\n                        )}\n                    </div>\n                    <p><strong>Category:</strong>\n                        {gift.category}\n                    </p>\n                    <p><strong>Condition:</strong>\n                        {gift.condition}\n                    </p>\n                    <p><strong>Date Added:</strong>\n                        {gift.dateAdded}\n                    </p>\n                    <p><strong>Age (Years):</strong>\n                        {gift.age}\n                    </p>\n                    <p><strong>Description:</strong>\n                        {gift.description}\n                    </p>\n                </div>\n            </div>\n            <div className=\"comments-section mt-4\">\n                <h3 className=\"mb-3\">Comments</h3>\n                {comments.map((comment, index) => (\n                    <div key={index} className=\"card mb-3\">\n                        <div className=\"card-body\">\n                            <p className=\"comment-author\"><strong>{comment.author}:</strong></p>\n                            <p className=\"comment-text\">{comment.comment}</p>\n                        </div>\n                    </div>\n                ))}\n            </div>\n        </div >\n    );\n}\n\nexport default DetailsPage;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}